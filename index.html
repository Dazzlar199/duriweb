<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DURI Entertainment</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="public/css/style.css" />
  </head>
  <body>
    <script>
      // Carousel functionality
      const carousel = document.querySelector(".members-carousel");
      const prevBtn = document.querySelector(".carousel-btn.prev");
      const nextBtn = document.querySelector(".carousel-btn.next");
      const memberItems = document.querySelectorAll(".member-item");

      let currentIndex = 0;
      let autoSlideInterval;
      const itemWidth = 360; // 320px + 40px gap

      function updateCarousel() {
        if (carousel) {
          carousel.scrollTo({
            left: currentIndex * itemWidth,
            behavior: "smooth",
          });
        }
      }

      function nextSlide() {
        currentIndex = (currentIndex + 1) % memberItems.length;
        updateCarousel();
      }

      function startAutoSlide() {
        autoSlideInterval = setInterval(nextSlide, 4000);
      }

      function stopAutoSlide() {
        clearInterval(autoSlideInterval);
      }

      if (prevBtn && nextBtn) {
        prevBtn.addEventListener("click", () => {
          currentIndex = Math.max(0, currentIndex - 1);
          updateCarousel();
          stopAutoSlide();
          setTimeout(startAutoSlide, 5000);
        });

        nextBtn.addEventListener("click", () => {
          currentIndex = (currentIndex + 1) % memberItems.length;
          updateCarousel();
          stopAutoSlide();
          setTimeout(startAutoSlide, 5000);
        });
      }

      // Start auto slide
      if (memberItems.length > 0) {
        startAutoSlide();

        // Pause on hover
        carousel?.addEventListener("mouseenter", stopAutoSlide);
        carousel?.addEventListener("mouseleave", startAutoSlide);
      }

      // Mouse parallax effect for member items
      memberItems.forEach((item) => {
        item.addEventListener("mousemove", (e) => {
          const rect = item.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;

          const centerX = rect.width / 2;
          const centerY = rect.height / 2;

          const rotateX = (y - centerY) / 20;
          const rotateY = (centerX - x) / 20;

          const imageWrapper = item.querySelector(".member-image-wrapper");
          if (imageWrapper) {
            imageWrapper.style.transform = `
              translateY(-30px) 
              scale(1.08) 
              rotateX(${rotateX}deg) 
              rotateY(${rotateY}deg)
            `;
          }
        });

        item.addEventListener("mouseleave", () => {
          const imageWrapper = item.querySelector(".member-image-wrapper");
          if (imageWrapper) {
            imageWrapper.style.transform = "";
          }
        });
      });

      // Scroll animation for sections
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -100px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = "1";
            entry.target.style.transform = "translateY(0)";
          }
        });
      }, observerOptions);

      document.querySelectorAll(".news-item, .schedule-item").forEach((el) => {
        el.style.opacity = "0";
        el.style.transform = "translateY(20px)";
        el.style.transition = "opacity 0.6s ease, transform 0.6s ease";
        observer.observe(el);
      });

      // Music Player functionality
      const audioPlayer = document.getElementById("audio-player");
      const playPauseBtn = document.querySelector(".play-pause-btn");
      const prevBtn = document.querySelector(".prev-btn");
      const nextBtn = document.querySelector(".next-btn");
      const progressBar = document.querySelector(".progress-fill");
      const progressBarContainer = document.querySelector(".progress-bar");
      const currentTimeEl = document.querySelector(".current-time");
      const totalTimeEl = document.querySelector(".total-time");
      const playIcon = document.querySelector(".play-icon");
      const pauseIcon = document.querySelector(".pause-icon");

      let isPlaying = false;

      // Mock playlist (실제로는 여러 곡 리스트)
      const playlist = [
        { title: "Live With U", artist: "LIV U", duration: "3:45" },
        { title: "New Beginning", artist: "LIV U", duration: "4:12" },
        { title: "Together", artist: "LIV U", duration: "3:28" },
      ];
      let currentTrackIndex = 0;

      function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, "0")}`;
      }

      function updateTrackInfo() {
        const track = playlist[currentTrackIndex];
        document.querySelector(".track-title").textContent = track.title;
        document.querySelector(".track-artist").textContent = track.artist;
        totalTimeEl.textContent = track.duration;
      }

      function updateProgress() {
        if (audioPlayer.duration) {
          const progress =
            (audioPlayer.currentTime / audioPlayer.duration) * 100;
          progressBar.style.width = `${progress}%`;
          currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
        }
      }

      function togglePlayPause() {
        if (isPlaying) {
          audioPlayer.pause();
          playIcon.style.display = "inline";
          pauseIcon.style.display = "none";
        } else {
          // 실제 음원이 있으면 재생, 없으면 시뮬레이션
          if (audioPlayer.src && audioPlayer.src !== "#") {
            audioPlayer.play();
          } else {
            // 시뮬레이션: 진행바 애니메이션
            simulatePlayback();
          }
          playIcon.style.display = "none";
          pauseIcon.style.display = "inline";
        }
        isPlaying = !isPlaying;
      }

      function simulatePlayback() {
        const duration = 225; // 3:45 in seconds
        let currentTime = 0;
        const interval = setInterval(() => {
          if (!isPlaying) {
            clearInterval(interval);
            return;
          }
          currentTime += 1;
          const progress = (currentTime / duration) * 100;
          progressBar.style.width = `${progress}%`;
          currentTimeEl.textContent = formatTime(currentTime);

          if (currentTime >= duration) {
            clearInterval(interval);
            isPlaying = false;
            playIcon.style.display = "inline";
            pauseIcon.style.display = "none";
            progressBar.style.width = "0%";
            currentTimeEl.textContent = "0:00";
          }
        }, 1000);
      }

      function nextTrack() {
        currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
        updateTrackInfo();
        progressBar.style.width = "0%";
        currentTimeEl.textContent = "0:00";
        if (isPlaying) {
          isPlaying = false;
          togglePlayPause();
        }
      }

      function prevTrack() {
        currentTrackIndex =
          (currentTrackIndex - 1 + playlist.length) % playlist.length;
        updateTrackInfo();
        progressBar.style.width = "0%";
        currentTimeEl.textContent = "0:00";
        if (isPlaying) {
          isPlaying = false;
          togglePlayPause();
        }
      }

      // Progress bar click
      progressBarContainer.addEventListener("click", (e) => {
        if (audioPlayer.duration) {
          const rect = progressBarContainer.getBoundingClientRect();
          const clickX = e.clientX - rect.left;
          const percentage = clickX / rect.width;
          audioPlayer.currentTime = percentage * audioPlayer.duration;
          updateProgress();
        }
      });

      // Event listeners
      if (playPauseBtn) {
        playPauseBtn.addEventListener("click", togglePlayPause);
      }
      if (prevBtn) {
        prevBtn.addEventListener("click", prevTrack);
      }
      if (nextBtn) {
        nextBtn.addEventListener("click", nextTrack);
      }
      if (audioPlayer) {
        audioPlayer.addEventListener("timeupdate", updateProgress);
        audioPlayer.addEventListener("loadedmetadata", () => {
          totalTimeEl.textContent = formatTime(audioPlayer.duration);
        });
        audioPlayer.addEventListener("ended", () => {
          isPlaying = false;
          playIcon.style.display = "inline";
          pauseIcon.style.display = "none";
          progressBar.style.width = "0%";
          currentTimeEl.textContent = "0:00";
        });
      }

      // Initialize
      updateTrackInfo();
    </script>
    <header>
      <nav>
        <a href="index.html" class="logo">
          <img src="public/images/logo4.png" alt="DURI ENT." />
          <span class="logo-text">DURI ENT.</span>
        </a>
        <ul>
          <li><a href="about.html">About</a></li>
          <li><a href="project.html">Project: LIV U</a></li>
          <li><a href="members.html">Members</a></li>
          <li><a href="vote.html">Vote & Missions</a></li>
          <li><a href="live.html">Live</a></li>
          <li><a href="music.html">Music & Video</a></li>
          <li><a href="shop.html">Shop</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="members-showcase">
        <h2>LIV U</h2>
        <div class="members-carousel-wrapper">
          <div class="members-carousel">
            <div class="member-item" data-delay="0">
              <div class="member-image-wrapper">
                <img src="1.png" alt="Member 1" />
              </div>
              <div class="member-overlay">
                <span>Member 1</span>
              </div>
            </div>
            <div class="member-item" data-delay="0.2">
              <div class="member-image-wrapper">
                <img src="2.png" alt="Member 2" />
              </div>
              <div class="member-overlay">
                <span>Member 2</span>
              </div>
            </div>
            <div class="member-item" data-delay="0.4">
              <div class="member-image-wrapper">
                <img src="3.png" alt="Member 3" />
              </div>
              <div class="member-overlay">
                <span>Member 3</span>
              </div>
            </div>
            <div class="member-item" data-delay="0.6">
              <div class="member-image-wrapper">
                <img src="4.png" alt="Member 4" />
              </div>
              <div class="member-overlay">
                <span>Member 4</span>
              </div>
            </div>
            <div class="member-item" data-delay="0.8">
              <div class="member-image-wrapper">
                <img src="5.png" alt="Member 5" />
              </div>
              <div class="member-overlay">
                <span>Member 5</span>
              </div>
            </div>
          </div>
          <div class="carousel-controls">
            <button class="carousel-btn prev"></button>
            <button class="carousel-btn next"></button>
          </div>
        </div>
      </section>

      <section class="hero">
        <div class="hero-logo">
          <img src="public/images/logo4.png" alt="DURI ENT." />
          <span class="hero-logo-text">DURI ENT.</span>
        </div>
        <h1>Live With U</h1>
        <p>지금, 당신의 한 표가 무대를 바꿉니다.</p>

        <div class="music-player">
          <div class="player-info">
            <div class="player-track">
              <span class="track-title">Live With U</span>
              <span class="track-artist">LIV U</span>
            </div>
          </div>
          <div class="player-controls">
            <button class="player-btn prev-btn" aria-label="Previous"></button>
            <button class="player-btn play-pause-btn" aria-label="Play/Pause">
              <span class="play-icon"></span>
              <span class="pause-icon" style="display: none"></span>
            </button>
            <button class="player-btn next-btn" aria-label="Next"></button>
          </div>
          <div class="player-progress">
            <div class="progress-bar">
              <div class="progress-fill"></div>
            </div>
            <div class="progress-time">
              <span class="current-time">0:00</span>
              <span class="total-time">3:45</span>
            </div>
          </div>
          <audio id="audio-player" preload="metadata">
            <!-- 실제 음원 파일이 있으면 여기에 추가 -->
            <source src="#" type="audio/mpeg" />
          </audio>
        </div>

        <div class="cta-buttons">
          <a href="#" class="btn">Vote Now</a>
          <a href="#" class="btn">Join Live</a>
          <a href="#" class="btn">Watch Teaser</a>
        </div>
      </section>

      <section class="news-section">
        <div class="news-container">
          <h2>Latest News</h2>
          <div class="news-list">
            <article class="news-item">
              <span class="news-category">artists</span>
              <h3>LIV U, 데뷔 싱글 'Live With U' 티저 공개!</h3>
              <span class="news-date">2025.01.15</span>
            </article>
            <article class="news-item">
              <span class="news-category">artists</span>
              <h3>LIV U 멤버 5인, 첫 번째 라이브 스트리밍 성공</h3>
              <span class="news-date">2025.01.10</span>
            </article>
            <article class="news-item">
              <span class="news-category">project</span>
              <h3>팬 투표 시스템 오픈, 첫 번째 미션 시작</h3>
              <span class="news-date">2025.01.05</span>
            </article>
            <article class="news-item">
              <span class="news-category">events</span>
              <h3>LIV U, 글로벌 버추얼 콘서트 개최 예정</h3>
              <span class="news-date">2025.01.01</span>
            </article>
          </div>
          <a href="#" class="view-more">View More</a>
        </div>
      </section>

      <section class="schedule-section">
        <div class="schedule-container">
          <h2>Upcoming Events</h2>
          <div class="schedule-list">
            <div class="schedule-item">
              <div class="schedule-date">
                <span class="date-month">Feb</span>
                <span class="date-day">15</span>
              </div>
              <div class="schedule-content">
                <h3>LIV U 첫 번째 라이브 스트리밍</h3>
                <p>Bubble Live / YouTube</p>
              </div>
            </div>
            <div class="schedule-item">
              <div class="schedule-date">
                <span class="date-month">Mar</span>
                <span class="date-day">01</span>
              </div>
              <div class="schedule-content">
                <h3>데뷔 싱글 발매</h3>
                <p>전 세계 동시 발매</p>
              </div>
            </div>
            <div class="schedule-item">
              <div class="schedule-date">
                <span class="date-month">Mar</span>
                <span class="date-day">20</span>
              </div>
              <div class="schedule-content">
                <h3>MV 공개</h3>
                <p>YouTube 공식 채널</p>
              </div>
            </div>
            <div class="schedule-item">
              <div class="schedule-date">
                <span class="date-month">Apr</span>
                <span class="date-day">10</span>
              </div>
              <div class="schedule-content">
                <h3>글로벌 버추얼 콘서트</h3>
                <p>Anime Expo 2025 참가</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-content">
        <p>&copy; 2025 DURI Entertainment. All Rights Reserved.</p>
        <p>
          법인명: DURI ENT. | 주소: 서울특별시 광진구 자양로 217-1, 지하1층,
          5층, 6층 (구의동)
        </p>
      </div>
    </footer>
  </body>
</html>
